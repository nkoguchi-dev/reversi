# プロジェクトの説明
ドメイン駆動設計とヘキサゴナルアーキテクチャを利用してリバーシを作成するプロジェクトです。
個人的なメモと学習のために作成しているため、実際にサービスとして稼働することを目的としていません。

# 確認方法

## デプロイされたアプリケーションの確認方法

常時確認はできません。
ブラウザから https://reversi.koppepan.org/ を開くとAWS S3に配置したAngularアプリケーションにアクセスできます。  
しかし起動しているだけでお金がかかるAWSのロードバランサーとECSタスクを停止しているためAPI呼び出しが失敗します。残念ですが常時は確認ができません。

## ローカルでの起動方法
Dockerを利用してアプリケーションを起動します。

最初にプロジェクトのルートディレクトリに移動し、npm installを実行します。
```shell
docker compose run --no-deps --rm reversi_ui npm install
```

次にDockerコンテナを起動します。
```shell
docker compose up -d --build
```

ブラウザで`http://localhost:4200`にアクセスするとアプリケーションが起動していることを確認できます。

## プロジェクトの構成

### バックエンドアプリケーション

web-apiディレクトリに配置されています。
KotlinとSpring Bootを利用しており、ORMはKomapperを利用しデータベースにはインメモリのH2を用いています。

#### Presentation

Controllerを用いてプライマリーアダプターを実装しています。

#### Application

プライマリーポートを実装しています。
アプリケーション層としてドメインロジックの呼び出し、トランザクション管理、ログ出力を行います。

#### Domain

ドメイン層になります。
リバーシのルールを実装し他の層に依存しません。
ドメイン層に配置されたRepositoryインターフェースがセカンダリーポートを表現しています。

#### Infrastructure

セカンダリーアダプターを実装しています。

### フロントエンドアプリケーション

uiディレクトリに配置されています。
Angularを利用して作成しており、かなりシンプルな作りになっているため見どころが無いかもしれません。

### インフラストラクチャー

infrastructureディレクトリに配置されています。
AWSにリソースを構築してterraformを用いてリソースを管理しています。